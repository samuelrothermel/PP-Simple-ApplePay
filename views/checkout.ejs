<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.paypal.com https://sandbox.paypal.com https://*.paypal.com https://*.paypalobjects.com https://applepay.cdn-apple.com; connect-src 'self' https://sandbox.paypal.com https://*.paypal.com https://api.sandbox.paypal.com https://api.paypal.com; frame-src https://sandbox.paypal.com https://*.paypal.com https://*.paypalobjects.com; img-src 'self' data: https://*.paypal.com https://*.paypalobjects.com; style-src 'self' 'unsafe-inline' https://*.paypal.com; font-src 'self' https://*.paypal.com;">
    <title>Simple PayPal Checkout</title>
    <link rel="stylesheet" type="text/css" href="/styles/custom.css">
    <!-- Apple Pay SDK - Required for apple-pay-button element -->
    <script src="https://applepay.cdn-apple.com/jsapi/1.latest/apple-pay-sdk.js"></script>
</head>
<body class="checkout-page-body">
    <div class="container checkout-page-container">
        <div class="header">
            <h1>Simple PayPal Checkout Demo</h1>
            <p>Test PayPal, Apple Pay, and Card payments with this simplified checkout</p>
        </div>

        <div class="amount-section">
            <h3>Payment Amount</h3>
            <label for="amount-input">Enter amount to pay (USD):</label>
            <input type="number" id="amount-input" class="amount-input" value="10.00" min="1" max="10000" step="0.01">
            <p>Total: $<span id="total-amount" class="total-display">10.00</span></p>
        </div>

        <div class="payment-section">
            <h3>Quick Checkout with PayPal</h3>
            <div id="paypal-button-container"></div>
        </div>

        <div class="payment-section" id="applepay-section">
            <h3>Or Pay with Apple Pay</h3>
            <div id="applepay-container">
                <!-- Apple Pay button will be inserted here when eligible -->
                <div id="applepay-placeholder" style="background: #f0f0f0; border: 2px dashed #ccc; padding: 20px; text-align: center; margin: 10px 0;">
                    Apple Pay Button Loading...
                </div>
            </div>
        </div>

        <div class="payment-section">
            <div id="paylater-message-container" style="margin-top: 15px;"></div>
        </div>

        <div class="payment-section" id="card-section">
            <h3>Or Pay with Card</h3>
            <div class="card-section">
                <div class="card-field">
                    <label for="card-number-field">Card Number</label>
                    <div id="card-number-field"></div>
                </div>
                <div class="card-field">
                    <label for="card-expiry-field">Expiry Date</label>
                    <div id="card-expiry-field"></div>
                </div>
                <div class="card-field">
                    <label for="card-cvv-field">CVV</label>
                    <div id="card-cvv-field"></div>
                </div>
                <button id="card-submit-button" class="card-submit-button">Pay with Card</button>
            </div>
        </div>

        <div id="order-info" class="info-section" style="display: none;">
            <!-- Order information will be displayed here -->
        </div>
    </div>

    <script>
        const clientId = '<%= clientId %>';
    </script>
    <script src="/checkout.js"></script>
</body>
</html>